#!/bin/sh

regex='((https?|ftp)(:\/\/)([a-zA-Z0-9]+(\-[a-zA-Z0-9]+)*\.)+[a-zA-Z0-9]+)[a-zA-Z0-9.\/$&%?#=_~\-]*[^ .,!?;\t>"():]'
font='FantasqueSansMono Nerd Font:size=10:antialias=true:autohint=true'
url=$(grep -aPo "$regex" | dmenu -fn "$font" -i -h 24 -l 7 -p "open url:" -w "$WINDOWID") || exit
echo "$url" | while IFS= read -r line ; do
    $BROWSER "$line"
done
